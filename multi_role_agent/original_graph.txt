graph LR
    aws_vpc["aws_vpc"] -- contains --> aws_subnet["aws_subnet"]
    aws_vpc -- contains --> aws_internet_gateway["aws_internet_gateway"]
    aws_vpc -- contains --> aws_security_group["aws_security_group"]
    aws_vpc -- contains --> aws_route_table["aws_route_table"]
    aws_internet_gateway -- route to --> aws_route_table
    aws_route_table -- association --> aws_subnet
    aws_instance["aws_instance"] -- connected to --> aws_subnet
    aws_instance -- security group --> aws_security_group
    aws_s3_bucket["aws_s3_bucket"]
    aws_iam_role["aws_iam_role"]
    aws_iam_policy["aws_iam_policy"]
    aws_iam_role -- attach --> aws_iam_policy
    aws_iam_instance_profile["aws_iam_instance_profile"]
    aws_instance -- iam profile --> aws_iam_instance_profile
    aws_iam_instance_profile -- role --> aws_iam_role
    aws_instance -- access --> aws_s3_bucket
